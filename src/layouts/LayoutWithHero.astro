---
import Layout from '../layouts/Layout.astro';
import { Picture } from 'astro:assets';

const { title, description, subTitle, subTitle2 = "max-w-2xl mx-6 my-16 lg:mx-auto", src, alt } = Astro.props;
---

<Layout title={title} description={description}>
  <div class="pt-30 grille grid h-screen grid-rows-[4fr_1fr] relative">
    <div class="my-12 space-y-8 self-end text-white z-[2] col-span-4">
      <h1>{title}</h1>
      {subTitle && (
        <h2 class="font-sans text-xl font-bold uppercase">{subTitle}</h2>
        <h3 class="font-sans text-lg font-bold ">{subTitle2}</h3>
      )}
    </div>

    <div class="relative z-[1] row-start-2 flex items-center -mx-6 px-6 bg-white text-xl leading-normal">
      <slot name="chapo" />
    </div>

    <Picture 
      pictureAttributes={{ class: "duotone !absolute inset-0 object-cover" }} 
      formats={['avif', 'webp']} 
      src={src} 
      alt={alt} 
      widths={[540, 1024, src.width]}
      sizes={`(max-width: 540px) 540px, (max-width: 1024px) 1024px, ${src.width}px`}
    />

  <div class={description}>
    <slot name="content" />
  </div>
</Layout>
