---
import { Picture } from 'astro:assets';
const { ...invite } = Astro.props;
---

<div class="w-72 md:w-84 lg:w-72 xl:w-72 2xl:w-84 rounded-lg overflow-hidden shadow-sm bg-white mx-auto">
  <article>

    <a href={`/invites/${invite.id}`}>
      {invite.photoUrl ? (
        <Picture
          class="w-full h-56 object-cover rounded-t-lg"
          width={400}
          height={500}
          src={invite.photoUrl}
          alt={`${invite.prenom_invite} ${invite.nom_invite} - Photo`}
        />
      ) : (
        <div class="h-56 bg-gray-200 flex items-center justify-center text-gray-500 rounded-t-lg">
          Aucune photo disponible
        </div>
      )}
    </a>

    <div class="px-6 py-4">
      <h3 class="font-bold text-xl mb-2">
        <a href={`/invites/${invite.id}`} class="text-gray-900 hover:text-gray-700">
          {invite.prenom_invite} {invite.nom_invite}
        </a>
      </h3>

      <p class="text-gray-700 text-sm mb-3">
        <span class="inline-block bg-blue-100 text-blue-800 rounded-full px-3 py-1 text-sm font-semibold mr-2">
          {invite.role_invite}
        </span>
      </p>

      <hr class="border-t border-gray-200 my-2" />

      <p class="text-gray-600 text-sm mb-2">
        <span>
          Né à {invite.ville_invite}
          {invite.date_naissance_invite && (
            <span>
              le {new Date(invite.date_naissance_invite).toLocaleDateString('fr-FR', {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
              })}
            </span>
          )}
        </span>
      </p>

      <p class="text-gray-700 text-sm line-clamp-3">
        {invite.biographie_invite && invite.biographie_invite.length > 150 
          ? invite.biographie_invite.substring(0, 150) + '...' 
          : invite.biographie_invite}
      </p>
    </div>

  </article>
</div>