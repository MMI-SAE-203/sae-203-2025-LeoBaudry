---
import Layout from '../../layouts/Layout.astro';
import Card from '../../components/CardFilm.astro';
import { getFilms } from '../../../backend/backend.mjs';
const films = await getFilms();
console.log(films);
---

<Layout>
  <div class="min-h-screen py-35">
    <div class="container mx-auto px-4">
      <h1 class="text-3xl lg:text-6xl font-bold text-center mb-8">Programmation des films</h1>

      <div class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-12 sm:gap-16">
        {films.length > 0 ? (
          films.map((film) => ( 
            <Card key={film.id} {...film} class="w-full mx-auto max-w-xs md:max-w-none h-full flex flex-col justify-end" />
          ))
        ) : (
          <p class="text-center text-gray-500">Aucun film projeté à prévoir.</p>
        )}
      </div>
    </div>
  </div>
</Layout>
