---
import Layout from '../../layouts/Layout.astro';
import CardInvite from '../../components/CardInvite.astro';
import { getInvites } from '../../../backend/backend.mjs';
const invites = await getInvites();
// console.log(invites);
---

<Layout>
  <div class="min-h-screen py-35">
    <div class="container mx-auto px-4">
      <h1 class="text-3xl lg:text-6xl font-bold text-center mb-8">Nos invités</h1>

      <div class="grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-12 sm:gap-16">
        {invites.length > 0 ? (
          invites.map((invite) => ( 
            <CardInvite key={invite.id} {...invite} class="w-full mx-auto max-w-xs md:max-w-none h-full flex flex-col justify-end" />
          ))
        ) : (
          <p class="text-center text-gray-500">Aucun invité pour le moment.</p>
        )}
      </div>
    </div>
  </div>
</Layout>